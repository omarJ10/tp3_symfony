{# templates/author/list.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Liste des Auteurs{% endblock %}

{% block body %}
    <h1>Liste des Auteurs</h1>

    <p>Nombre total d'auteurs: {{ totalAuthors }}</p>
    <p>Nombre total de livres: {{ totalBooks }}</p>

    {% if authors is defined and authors|length > 0 %}
        <table border='2' align="center">   
            <tr>
                <td>ID</td>
                <td>Picture</td>
                <td>Username</td>
                <td>Email</td>
                <td>Nombre de livres</td>
                 <td>Details</td>
            </tr>
            
            {% for author in authors %}
                <tr>
                    <td>{{ author.id }}</td>  {# Corrected here #}
                    <td><img src="{{ asset(author.picture) }}" alt="{{ author.username }}" width="150" style="display: block;"></td>
                    <td><strong>{{ author.username }}</strong></td>
                    <td><p>Email: {{ author.email }}</p></td>
                    <td><p>Nombre de livres: {{ author.nb_books }}</p></td>
                    <td><a href="{{ path('app_author_details', {'id': author.id}) }}">Details</a></td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>Aucun auteur disponible.</p>
    {% endif %}
{% endblock %}
